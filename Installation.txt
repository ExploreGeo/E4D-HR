______________________INSTRUCTIONS FOR BUILDING E4D________________________________
NOTE: In the follow instructions, <e4d_dir> refers to the full path name of the
e4d_dev directory.  

1) Make sure make and gfortan are installed.

2) Make sure the m4 utility is installed (http://www.gnu.org/software/m4/m4.html)

3) Download the latest stable version of petsc into the <e4d_dir>/third_party
   (go to http://www.mcs.anl.gov/petsc/download/ and download petsc_lite-*.tar.gz)
   
4) Go to the <e4d_dir>/third_party and untar the petsc library
   (i.e. tar -xvzf pets_lite-*.tar.gz)

5) Go to the newly created petsc directory (petsc-*) and compile petsc. E4D needs
   the f-blas-lapack and mpi libraries. The petsc installation script will
   download these for you.
   - To configure petsc, type at the command line
   ./configure --with-cc=gcc --with-fc=gfortran --download-fblaslapack --download-openmpi --with-debugging=0
   - Upon sucessful installion, the petsc configuration script will will tell you how to
     compile petsc. This should be something like:
     make PETSC_DIR=<e4d_dir>/third_party/petsc-3.6.1 PETSC_ARCH=arch-linux2-c-opt all

     Enter this command to compile petsc.

   - Once compilation is finished, enter the commands given by the compile routine to test
     the installation if desired.

6) Go to <e4d_dir>/src/ and edit the file Makefile as follows

   PETSC_DIR =../third_party/petsc-* (note * specified the petsc version)

7) Compile e4d by typing:
   make

8) Copy e4d to the e4d bin directory
   (cp e4d ../bin)




________________INSTRUCTIONS FOR BUILDING bx_______________________________________
6) Download the latest stable release of netcdf into <e4d_dir>/third_party
   (go to http://www.unidata.ucar.edu/downloads/netcdf/index.jsp and download netcdf*.tar.gz)

7) Go to the <e4d_dir>/third_party and untar the netcdf library
   (i.e. tar -xvzf netcdf*.tar.gz)

8) Go to <e4d_dir>/third_party/netcdf*/ and configure netcdf by typing:
   ./configure --disable-netcdf-4 --disable-dap

9) Now compile netcdf by typing:
   make

10) Install netcdf by typing (this step requires su privelege):
    make install
    or
    sudo make install

11) Download the latest stable release of exodusII into <e4d_dir>/third_party
   (go to http://sourceforge.net/projects/exodusii/ and download exodusII_*.tar.gz)

12) Go to the <e4d_dir>/third_party and untar the exodus library
   (i.e. tar -xvzf exodusII*.tar.gz)

13) Go to <e4d_dir>/third_party/exodus-*/exodus and edit the file Makefile.standalone
    as follows:

    USING_NETCDF4 = "NO"
    NETCDF = <e4d_dir>/third_party/netcdf-*
    
14) Compile exodus by typing:
    make -f Makefile.standalone

15) Go to <e4d_dir>/utilities/bx and edit the first lines of
    the file Makefile as follows (note you should only have to change
    the second and third lines to your <e4d_dir>):

    f95 = gfortran
    NETCDF = <e4d_dir>/third_party/netcdf-*
    EXODUS = <e4d_dir>/third_party/exodus-*/exodus
    NETCDF_INC = -I$(NETCDF)/include
    NETCDF_LIB = -L$(NETCDF)/lib -lnetcdf
    EXODUS_INC = -I$(EXODUS)/forbind/include
    libs = -lm ${EXODUS}/libexoIIv2for.a ${EXODUS}/libexodus.a ${NETCDF_LIB}
    includes = ${NETCDF_INC} ${EXODUS_INC}

16) Compile bx by typing:
    make

17) Copy bx to the e4d bin directory
    (cp bx ../../bin)
    

______________________Building Triangle____________________________

18) -Make the directory <e4d_dir>/third_party/triangle by typing:
    mkdir  <e4d_dir>/third_party/triangle
    Download triangle.zip from https://www.cs.cmu.edu/~quake/triangle.html
    into <e4d_dir>/third_party/triangle .
    - Go to <e4d_dir>/third_party/triangle and unzip triangle by typing:
    unzip triangle
     

19) Compile triangle by typing:
    make
    (Note the may show an error concerning a missing Xlib.h, even though 
    triangle compiled successfully)  

20) Copy triangle to the e4d bin directory
    (cp triangle ../../bin/)

______________________Building Tetgen____________________________

18) - Make the directory <e4d_dir>/third_party/triangle by typing:
    mkdir  <e4d_dir>/third_party/tetgen
    - Go to http://wias-berlin.de/software/tetgen/download2.jsp and
    download tetgen into <e4d_dir>/third_party/tetgen . 
    -Go to <e4d_dir>/third_party/tetgen
    -untar tetgen by typing:	
     tar -xvzf tetgen1.5.0.tar.gz
    

19) Go to <e4d_dir>/third_party/tetgen/tetgen1.5.0 and compile tetgen by typing:
    make
    (You may see some warning messages during compilation)

20) Copy tetgen to the e4d bin directory
    (cp tetgen ../../../bin/)
    
